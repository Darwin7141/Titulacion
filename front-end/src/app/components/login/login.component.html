<!-- Contenedor principal -->
<div class="login-page-bg">

 

  <!-- ============ NAVBAR ============ -->
  <header class="navbar" [class.menu-open]="menuOpen">
  <!-- Botón hamburguesa (solo se ve en móvil) -->
  <button
    class="hamburger"
    type="button"
    aria-label="Abrir menú"
    [attr.aria-expanded]="menuOpen"
    (click)="toggleMenu()">
    <span></span><span></span><span></span>
  </button>

  <!-- Menú -->
  <nav class="nav-menu">
    <ul>
      <li><a href="#" (click)="scrollTo('home', $event); closeMenuOnNavClick()">INICIO</a></li>
      <li><a href="#" (click)="scrollTo('sobre-nosotros', $event); closeMenuOnNavClick()">SOBRE NOSOTROS</a></li>
      <li><a href="#" (click)="scrollTo('servicios', $event); closeMenuOnNavClick()">SERVICIOS</a></li>
      <li><a href="#" (click)="scrollTo('planes', $event); closeMenuOnNavClick()">CONTÁCTANOS</a></li>
    </ul>
  </nav>

  <!-- Botón iniciar sesión -->
  <div class="nav-logo">
    <button class="inicio-sesion" (click)="toggleLogin()">Iniciar Sesión</button>
  </div>

  <!-- Sombra/overlay detrás del menú (móvil) -->
  <div class="nav-backdrop" (click)="toggleMenu()" *ngIf="menuOpen"></div>


<!-- FORMULARIO INLINE -->
<div *ngIf="showLoginForm" class="login-card">
  <div class="login-card__inner">
    <!-- Botón cerrar -->
    <button
      type="button"
      class="login-card__close"
      (click)="cerrar()"
      aria-label="Cerrar">
      &times;
    </button>

    <!-- Frase superior -->
    <p class="login-card__welcome">Bienvenidos</p>

    <!-- Logo -->
    <img src="assets/LOGOMODIDFICADO.png" alt="Logo" class="login-card__logo" />

    <!-- Frase inferior al logo -->
    <p class="login-card__subtitle">Inicia sesión en tu cuenta</p>

    

    <form #loginForm="ngForm" (ngSubmit)="login()" autocomplete="on" class="login-card__form">
      <div class="form-group">
        <input
          type="email"
          name="correo"
          [(ngModel)]="usuario.correo"
          placeholder="Correo electrónico"
          required
        />
        <div class="error" *ngIf="loginForm.submitted && !usuario.correo">
          El correo es obligatorio
        </div>
      </div>

      <div class="form-group">
        <input
          type="password"
          name="contrasenia"
          [(ngModel)]="usuario.contrasenia"
          placeholder="Contraseña"
          required
        />
        <div class="error" *ngIf="loginForm.submitted && !usuario.contrasenia">
          La contraseña es obligatoria
        </div>
      </div>

      <button class="btn-submit" type="submit" [disabled]="bloquearCampos">
        {{ bloquearCampos ? 'Espere…' : 'INGRESAR' }}
      </button>
    </form>

    <div class="login-card__links">
      <a (click)="abrirRecuperar()" style="cursor:pointer">¿Olvidaste tu contraseña?</a>
      <br />
      <span>¿No tienes una cuenta? </span>
      <a (click)="abrirRegistro()" style="cursor:pointer">Regístrate</a>
    </div>

    <div class="lock-info" *ngIf="bloquearCampos">
      Intenta nuevamente en {{ tiempoBloqueo }} s.
    </div>
  </div>
</div>

  </header>

  <!-- ============ HERO (banner) ============ -->
  <section id="home" class="hero-container" style="display:flex;flex-direction:row;">

    <!-- diálogo de login -->
    
    <!-- Texto HERO -->
    <div class="hero-content" style="flex:1;">
      <div class="section-box hero-text">
        <h1>DAAYFOOD</h1>
        <p>
          Nuestro servicio se caracteriza por conservar en sus menús nacionales e internacionales
          altos estándares de calidad, utilizando productos&nbsp;100&nbsp;% naturales en la
          elaboración de nuestras recetas.
        </p>

        <!-- CTAs opcionales -->
        <div class="cta-box">
          <button class="cta-btn" (click)="scrollTo('servicios', $event)">VER SERVICIOS</button>
          <button class="cta-btn ghost" (click)="scrollTo('planes', $event)">COTIZAR</button>
        </div>
      </div>
    </div>
  </section>

  <!-- ============ SOBRE NOSOTROS ============ -->
 <section id="sobre-nosotros" class="sobre-nosotros-container">
  <div class="sobre-wrapper">
    <!-- Columna de texto -->
    <div class="sobre-text">
      <h2 class="sobre-titulo">Sobre Nosotros</h2>

      <br>

      
      <p>
        Nuestra Organización está fundamentada  en los siguientes valores:
Calidad en el Servicio, Compromiso, Respeto, Inclusión, Integridad, Trabajo en Equipo,  
Responsabilidad, Ética profesional, Resiliencia.
      </p>

      
    </div>

    <!-- Columna de imagen -->
    <div class="sobre-image">
      <img
        src="https://images.pexels.com/photos/1267320/pexels-photo-1267320.jpeg?auto=compress&cs=tinysrgb&h=600"
        alt="Chef emplata un plato gourmet" />
    </div>
  </div>
</section>





  <!-- ============ SERVICIOS ============ -->
  <section id="servicios" class="servicios-container">
  <!-- quitamos cualquier clase “section-box” aquí -->
  <div class="servicios-overlay">
    <h2 class="servicios-titulo">SERVICIOS</h2>
    <p class="servicios-descripcion">
      Disfruta de nuestros variados servicios
    </p>

    <div class="servicios-cards">
      <div class="servicio-card"
           *ngFor="let serv of servFiltrados | slice: sliceStart : sliceEnd">
        <div class="servicio-card-imagen">
          <img [src]="serv.fotografiaUrl" alt="{{ serv.imagen }}" />
        </div>
        <h3>{{ serv.nombre }}</h3>
        <!-- si no quieres la descripción larga aquí, bórrala -->
         
        <p class="servicio-texto">{{ serv.descripcion }}</p>
      </div>
    </div>

    <div class="dots-container">
      <span class="dot"
            *ngFor="let page of pagesArray"
            (click)="setPage(page)"
            [class.active]="page===currentPage"></span>
    </div>

    <div class="download-pdf-container">
      <button class="pdf-btn" (click)="generarPDFServiciosMenus()">
        Obtener Catálogo
      </button>
    </div>
  </div>
</section>

  <!-- ============ CONTÁCTANOS ============ -->
  <section id="planes" class="planes-container">
  <div class="contact-wrapper">
    <h2>CONTÁCTANOS</h2>
    <p>Si deseas información sobre algún servicio, por favor envíanos tus datos</p>

    <form #planesForm="ngForm" (ngSubmit)="enviarFormulario()" class="form-contacto">
      <div class="field">
        <input
          type="text"
          id="nombre"
          name="nombre"
          required
          [(ngModel)]="formData.nombre"
          placeholder=" "
        />
        <label for="nombre">Nombre</label>
      </div>

      <div class="field">
        <input
          type="email"
          id="email"
          name="email"
          required
          [(ngModel)]="formData.email"
          placeholder=" "
        />
        <label for="email">Correo electrónico</label>
      </div>

      <div class="field">
        <input
          type="tel"
          id="celular"
          name="celular"
          required
          [(ngModel)]="formData.celular"
          placeholder=" "
        />
        <label for="celular">Celular</label>
      </div>

      <div class="form-group">
  <mat-form-field class="servicios-field">
    <mat-label>Servicios</mat-label>
    <mat-select
      multiple
      [(ngModel)]="formData.serviciosSeleccionados"
      name="serviciosSeleccionados"
    >
      <mat-option *ngFor="let s of servicio" [value]="s.nombre">
        {{ s.nombre }}
      </mat-option>
    </mat-select>
  </mat-form-field>
</div>

      <button
        type="submit"
        class="btn-enviar"
        [disabled]="!planesForm.form.valid"
      >
        ENVIAR
      </button>
    </form>
  </div>
</section>

  <!-- ============ FOOTER ============ -->
<footer class="footer-container">
  <div class="footer-content">
    <p class="footer-address">
      Dirección: Dayuma, Vía principal, Calle C N/A y Km 40<br>
      Orellana-Ecuador<br>
      Teléfonos: 0992268003 – 0989989254
    </p>
    <div class="footer-icons">
      <a href="https://www.facebook.com/dayfood.ec" target="_blank" rel="noopener">
        <img src="https://img.icons8.com/?size=100&id=118487&format=png&color=FFFFFF" alt="Facebook" class="social-icon" />
      </a>
      <a href="https://wa.me/593992268003" target="_blank" rel="noopener">
        <img src="https://img.icons8.com/?size=100&id=85192&format=png&color=FFFFFF" alt="WhatsApp" class="social-icon" />
      </a>
    </div>
  </div>
</footer>

<ng-template #registroDialog>
  <div class="registro-panel">
    <div class="registro-panel-content">
      <h3>Regístrate</h3>

      <form #registroForm="ngForm" (ngSubmit)="onSubmit()" autocomplete="on">
        <div class="form-grid">
          <!-- CÉDULA -->
          <div class="form-group">
            <label for="ci">Cédula</label>
            <input
              id="ci"
              name="ci"
              type="text"
              [(ngModel)]="registro.ci"
              #ciModel="ngModel"
              required
              minlength="10"
              maxlength="10"
              pattern="^[0-9]{10}$"
              placeholder="Ingrese su cédula"
            />
            <div class="error" *ngIf="ciModel.invalid && (ciModel.touched || registroForm.submitted)">
              <ng-container *ngIf="ciModel.errors?.['required']">La cédula es obligatoria</ng-container>
              <ng-container *ngIf="ciModel.errors?.['pattern'] || ciModel.errors?.['minlength']">Debe tener 10 dígitos</ng-container>
            </div>
          </div>

          <!-- DIRECCIÓN -->
          <div class="form-group">
            <label for="direccion">Dirección</label>
            <input
              id="direccion"
              name="direccion"
              type="text"
              [(ngModel)]="registro.direccion"
              #dirModel="ngModel"
              required
              placeholder="Ingrese su dirección"
            />
            <div class="error" *ngIf="dirModel.invalid && (dirModel.touched || registroForm.submitted)">
              La dirección es obligatoria
            </div>
          </div>

          <!-- NOMBRE -->
          <div class="form-group">
            <label for="nombre">Nombre</label>
            <input
              id="nombre"
              name="nombre"
              type="text"
              [(ngModel)]="registro.nombre"
              #nombreModel="ngModel"
              required
              placeholder="Ingrese su nombre"
            />
            <div class="error" *ngIf="nombreModel.invalid && (nombreModel.touched || registroForm.submitted)">
              El nombre es obligatorio
            </div>
          </div>

          <!-- CORREO -->
          <div class="form-group">
            <label for="correo">Correo Electrónico</label>
            <input
              id="correo"
              name="correo"
              type="email"
              [(ngModel)]="registro.correo"
              #correoModel="ngModel"
              required
              email
              placeholder="Ingrese su correo electrónico"
            />
            <div class="error" *ngIf="correoModel.invalid && (correoModel.touched || registroForm.submitted)">
              <ng-container *ngIf="correoModel.errors?.['required']">El correo electrónico es obligatorio</ng-container>
              <ng-container *ngIf="correoModel.errors?.['email']">Formato de correo no válido</ng-container>
            </div>
          </div>

          <!-- TELÉFONO -->
          <div class="form-group">
            <label for="telefono">Teléfono</label>
            <input
              id="telefono"
              name="telefono"
              type="tel"
              [(ngModel)]="registro.telefono"
              #telModel="ngModel"
              required
              pattern="^[0-9]{7,10}$"
              placeholder="Ingrese su teléfono"
            />
            <div class="error" *ngIf="telModel.invalid && (telModel.touched || registroForm.submitted)">
              <ng-container *ngIf="telModel.errors?.['required']">El teléfono es obligatorio</ng-container>
              <ng-container *ngIf="telModel.errors?.['pattern']">Solo dígitos (7 a 10)</ng-container>
            </div>
          </div>

          <!-- CONTRASEÑA -->
          <div class="form-group">
            <label for="contrasenia">Contraseña</label>
            <input
              id="contrasenia"
              name="contrasenia"
              type="password"
              [(ngModel)]="registro.contrasenia"
              #passModel="ngModel"
              required
              minlength="6"
              placeholder="Ingrese su contraseña"
            />
            <div class="error" *ngIf="passModel.invalid && (passModel.touched || registroForm.submitted)">
              <ng-container *ngIf="passModel.errors?.['required']">La contraseña es obligatoria</ng-container>
              <ng-container *ngIf="passModel.errors?.['minlength']">Mínimo 6 caracteres</ng-container>
            </div>
          </div>
        </div>

        <div class="registro-buttons">
          <button type="button" class="btn-cancel" (click)="closeRegistro()">Cancelar</button>
          <button type="submit" class="btn-register" [disabled]="!registroForm.form.valid">Registrar</button>
        </div>
      </form>
    </div>
  </div>
</ng-template>


  <ng-template #recuperarDialog>
    <div *ngIf="isLoadingRecuperar" class="loading-overlay">
    <mat-progress-spinner
    mode="indeterminate"
    diameter="50"
    class="spinner-daayfood">
  </mat-progress-spinner>
    <p>Procesando…</p>
  </div>
  <div class="recuperar-card">
    <div class="recuperar-card__inner">
      <button type="button"
              class="recuperar-close"
              (click)="closeRecuperar()"
              aria-label="Cerrar">
        <span aria-hidden="true">&times;</span>
      </button>
      <h2 class="recuperar-card__title">Recuperar Contraseña</h2>
      <form #recForm="ngForm"
            (ngSubmit)="solicitarRecuperacion()"
            class="recuperar-card__form"
            autocomplete="off">
        <div class="form-group">
          <label for="correoRecuperar">Correo Electrónico</label>
          <input
            id="correoRecuperar"
            type="email"
            name="correoRecuperar"
            [(ngModel)]="correoRecuperar"
            placeholder="ejemplo@correo.com"
            required />
          <div class="error" *ngIf="recForm.submitted && !correoRecuperar">
            El correo es obligatorio
          </div>
        </div>

        <div class="recuperar-buttons">
          
          <button type="submit"
                  class="btn-submit"
                  [disabled]="recForm.invalid">
            Enviar
          </button>
        </div>
      </form>
    </div>
  </div>
</ng-template>

<!--<app-asistente-virtual></app-asistente-virtual> -->
